{% extends "header.html" %}

{% block body %}
<div class="row" style="margin-top: 80px">
    <div class="col-md-12">
        <h3 class="text-center">Flights</h3>
    </div>
</div>

<div>
    <a href="/addflight"><button class="btn btn-primary">Add Flight</button></a>
</div>
<div class= "row" style="padding:10px">
    <table id='mytable' class="table table-dark table-striped table-bordered">
        <thead>
        <tr class="bg-primary">
            <th scope="col">Flight</th>
            <th scope="col">Airplane</th>
            <th scope="col">Gate</th>
            <th scope="col">Pilot</th>
            <th scope="col">BaggageClaim</th>
            <th scope="col">Passenger Count</th>
            <th scope="col"> Operation</th>
        </tr>
        </thead>
        <tbody>
        {% for items in columns -%}
        <tr>
            <th scope="row">
                {{items[0]}}
            </th>
            {% for item in items[1:] -%}
            {% if loop.index==3 %}
            {% if item|length !=0 %}
            {%set allpilot = item[0] %}
            {% else %}
            <td >None</td>
            {% endif %}
            {% for pilot in item -%}
            {% set allpilot = allpilot+pilot %}
            <td >{{allpilot}}</td>
            {%- endfor %}
            {% else %}
            <td>{{ item[0] }}</td>
            {% endif %}
            {%- endfor %}
            <td class= "btn-outline-primary btn-block">
                <a type="button" class="btn btn-link" href="/deleteFlight/{{items[0]}}"> Delete</a>
            </td>
        </tr>
        {%- endfor %}
        </th>
        </tbody>
    </table>
</div>
{% endblock %}
